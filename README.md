# EventManager

EventManager — это приложение для управления событиями, написанное на Java с использованием Spring Boot. Оно поддерживает регистрацию пользователей, создание и управление событиями, а также позволяет пользователям регистрироваться на события. Приложение также включает планирование задач для проверки статуса событий и использует JWT для аутентификации и авторизации.

## Функциональность

- **Регистрация и авторизация пользователей**
- **Создание, изменение, удаление и просмотр событий**
- **Фильтрация событий по различным критериям**
- **Регистрация и отписка от событий**
- **Управление локациями для проведения мероприятий**
- **Планирование задач для проверки статуса событий**
- **Документация API с использованием Swagger**

## Технологии

- **Java**
- **Spring Boot**
- **Spring Security**
- **JWT**
- **PostgreSQL**
- **JPQL**
- **Swagger**
- **Scheduling**

## Расписание задач

Приложение использует Spring Scheduling для регулярной проверки статуса событий и обновления их статуса при необходимости.
Существует 4 состояния события: 
- **WAIT_START** — событие, которое уже зарегистрировано и еще не началось и не отменено
- **STARTED** — событие, которые уже началось. На него нельзя зарегистрироваться и отменить. Статус обновляется самостоятельно при помощи Scheduling.
- **CANCELLED** — событие, которое отменено его создателем или админом. На это событие нельзя зарегистрироваться.
- **FINISHED** — событие, которые закончилось. Статус обновляется самостоятельно при помощи Scheduling. 

## API

### API для управления локациями (Locations)

- **GET /locations** — Получение всех локций (ADMIN, USER)
- **GET /locations/{id}** — Получение локаций по ID (ADMIN, USER)
- **POST /locations** — Создание новой локации (ADMIN)
- **PUT /locations/{id}** — Обновление существующей локации (ADMIN)
- **DELETE /locations/{id}** — Удаление локации (ADMIN)

### Пользовательские API (Users)

- **GET /users/{id}** — Получение информации о пользователе по ID (ADMIN)
- **POST /users** — Регистрация нового пользователя (USER)
- **POST /users/auht** — Авторизация пользователя и получение JWT токена (ADMIN, USER)

### API для управления событиями (Events)

- **GET /events/{id}** — Получение события по ID (ADMIN, USER)
- **GET /events/my** — Получение событий, которые созданы пользователем (USER)
- **POST /events** — Создание нового события (USER)
- **POST /events/search** — Поиск мероприятия по фильтру (ADMIN, USER)
- **PUT /events/{id}** — Обновление существующего события (ADMIN, USER)
- **DELETE /events/{id}** — Удаление события (ADMIN, USER)

- **GET /events/registrations/my** — Получение всех событий, на которые зарегистрирован пользователь (USER)
- **POST /events/registrations/{id}** — Регистрация на событие (USER)
- **DELETE /events/registrations/cancel/{id}** — Отписка от события (USER)
